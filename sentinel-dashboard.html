<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1.0"/>
<title>SENTINEL — Global Risk &amp; Security Terminal</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.9/babel.min.js"></script>
<style>
@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600;700&display=swap');
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Inter',sans-serif;background:#000;color:#d4d4d4;overflow-x:hidden;font-size:12px}
::-webkit-scrollbar{width:4px}::-webkit-scrollbar-track{background:#000}::-webkit-scrollbar-thumb{background:#333;border-radius:2px}
:root{--bg0:#000;--bg1:#0a0a0a;--bg2:#111;--bg3:#1a1a1a;--bdr:#222;--bdrh:#333;--amber:#ff9500;--amberd:#b36800;--amberbg:rgba(255,149,0,0.08);--red:#ff3b30;--redbg:rgba(255,59,48,0.1);--grn:#30d158;--grnbg:rgba(48,209,88,0.08);--blu:#0a84ff;--cyan:#64d2ff;--pur:#bf5af2;--yel:#ffd60a;--t1:#e5e5e5;--t2:#999;--t3:#666;--mono:'JetBrains Mono',monospace}

/* TICKER */
.ticker{background:#050505;border-bottom:1px solid var(--bdr);height:24px;overflow:hidden;display:flex;align-items:center}
.tscroll{display:flex;animation:tsc 60s linear infinite;white-space:nowrap}.tscroll:hover{animation-play-state:paused}
@keyframes tsc{0%{transform:translateX(0)}100%{transform:translateX(-50%)}}
.tk{display:inline-flex;align-items:center;gap:5px;margin-right:28px;font:500 11px var(--mono);letter-spacing:.3px}
.tk .s{color:var(--amber)}.tk .p{color:var(--t1)}.tk .up{color:var(--grn);font-size:10px}.tk .dn{color:var(--red);font-size:10px}
.tsep{color:var(--bdr);margin-right:28px}

/* HEADER */
.hdr{background:var(--bg1);border-bottom:1px solid var(--bdr);padding:8px 16px;display:flex;align-items:center;justify-content:space-between}
.hdr-l{display:flex;align-items:center;gap:12px}
.logo{font:700 14px var(--mono);color:var(--amber);letter-spacing:2px}
.logo span{color:var(--t3);font-weight:400;font-size:10px;letter-spacing:1px;margin-left:8px}
.hdr-r{display:flex;align-items:center;gap:20px;font:400 11px var(--mono);color:var(--t3)}
.live{display:flex;align-items:center;gap:5px}
.ldot{width:6px;height:6px;background:var(--grn);border-radius:50%;animation:bl 2s infinite}
@keyframes bl{0%,100%{opacity:1}50%{opacity:.3}}
.threat{padding:3px 10px;border-radius:3px;font:600 10px var(--mono);letter-spacing:1px;text-transform:uppercase;background:var(--redbg);color:var(--red);border:1px solid rgba(255,59,48,.3)}

/* LAYOUT */
.shell{display:grid;grid-template-columns:240px 1fr 280px;height:calc(100vh - 57px);overflow:hidden}
.sidebar{background:var(--bg1);border-right:1px solid var(--bdr);overflow-y:auto}
.center{display:flex;flex-direction:column;overflow:hidden}
.rpanel{background:var(--bg1);border-left:1px solid var(--bdr);overflow-y:auto}

/* PANELS */
.ph{display:flex;align-items:center;justify-content:space-between;padding:8px 12px;background:var(--bg2);border-bottom:1px solid var(--bdr);position:sticky;top:0;z-index:2}
.pt{font:600 10px var(--mono);text-transform:uppercase;letter-spacing:1.5px;color:var(--amber);display:flex;align-items:center;gap:6px}
.pb{font:500 9px var(--mono);padding:1px 6px;border-radius:2px;letter-spacing:.5px}
.pbd{padding:10px 12px}

/* RISK GAUGES */
.rg{margin-bottom:10px;padding-bottom:10px;border-bottom:1px solid var(--bdr)}.rg:last-child{border-bottom:none;margin-bottom:0;padding-bottom:0}
.rg-t{display:flex;justify-content:space-between;align-items:baseline;margin-bottom:5px}
.rg-l{font:500 11px/1 'Inter',sans-serif;color:var(--t2)}
.rg-v{font:700 16px var(--mono)}
.rg-b{height:4px;background:var(--bg3);border-radius:2px;overflow:hidden;margin-bottom:3px}
.rg-f{height:100%;border-radius:2px;transition:width 1s ease}
.rg-m{font:400 9px var(--mono);color:var(--t3);display:flex;justify-content:space-between}

/* MAP */
.mwrap{position:relative;width:100%;height:100%;min-height:300px;background:var(--bg0)}
.mwrap svg{width:100%;height:100%}
.mfilt{position:absolute;top:8px;left:8px;display:flex;gap:4px;flex-wrap:wrap}
.mfb{font:500 9px var(--mono);padding:3px 8px;border-radius:2px;border:1px solid var(--bdr);background:var(--bg2);color:var(--t3);cursor:pointer;transition:all .15s;text-transform:uppercase;letter-spacing:.5px}
.mfb:hover{border-color:var(--bdrh);color:var(--t2)}.mfb.a{background:var(--amberbg);border-color:var(--amberd);color:var(--amber)}
.mstat{position:absolute;top:8px;right:8px;display:flex;gap:6px}
.ms{background:rgba(0,0,0,.8);border:1px solid var(--bdr);border-radius:3px;padding:4px 8px;text-align:center}
.msv{font:700 14px var(--mono);display:block}.msl{font:400 8px var(--mono);color:var(--t3);text-transform:uppercase;letter-spacing:.5px}
.mleg{position:absolute;bottom:8px;left:8px;display:flex;gap:10px;font:400 9px var(--mono);color:var(--t3)}
.ml{display:flex;align-items:center;gap:3px}.mld{width:6px;height:6px;border-radius:50%}
.mpulse{animation:mp 2s infinite}@keyframes mp{0%{r:5;opacity:.9}50%{r:14;opacity:0}100%{r:5;opacity:0}}

/* INTEL FEED */
.fi{padding:8px 0;border-bottom:1px solid var(--bdr)}.fi:last-child{border-bottom:none}
.fi:hover{background:var(--bg2);margin:0 -12px;padding:8px 12px}
.fit{display:flex;align-items:center;gap:6px;margin-bottom:3px}
.fis{width:6px;height:6px;border-radius:50%;flex-shrink:0}
.fitg{font:500 8px var(--mono);padding:1px 5px;border-radius:2px;text-transform:uppercase;letter-spacing:.5px}
.fitm{font:400 9px var(--mono);color:var(--t3);margin-left:auto}
.fitt{font:500 11px/1.4 'Inter',sans-serif;color:var(--t1)}
.fisu{font:400 10px 'Inter',sans-serif;color:var(--t3);margin-top:2px}

/* MARKET */
.mr{display:flex;justify-content:space-between;align-items:center;padding:6px 0;border-bottom:1px solid rgba(34,34,34,.5);font:400 11px var(--mono)}
.mr:last-child{border-bottom:none}
.mrs{color:var(--t1);font-weight:500;width:65px}.mrp{color:var(--t1);width:65px;text-align:right}.mrc{width:60px;text-align:right;font-size:10px}
.msec{padding:6px 12px;font:600 9px var(--mono);color:var(--amberd);letter-spacing:1.5px;text-transform:uppercase;background:var(--bg2);border-bottom:1px solid var(--bdr);position:sticky;top:0;z-index:1}

/* CHART TABS */
.ctabs{display:flex;gap:4px;margin-bottom:8px}
.ct{font:500 9px var(--mono);padding:3px 8px;border-radius:2px;border:1px solid var(--bdr);background:transparent;color:var(--t3);cursor:pointer;letter-spacing:.5px;transition:all .15s}
.ct.a{background:var(--amberbg);border-color:var(--amberd);color:var(--amber)}.ct:hover{border-color:var(--bdrh)}

/* TOOLTIP */
.tt{position:fixed;background:var(--bg2);border:1px solid var(--bdrh);border-radius:4px;padding:8px 12px;z-index:200;pointer-events:none;max-width:280px;box-shadow:0 4px 20px rgba(0,0,0,.6)}
.tt h5{font:600 11px 'Inter',sans-serif;margin-bottom:3px}.tt p{font:400 10px 'Inter',sans-serif;color:var(--t2);line-height:1.4}

/* REGIONAL */
.rr{display:flex;justify-content:space-between;align-items:center;padding:5px 0;border-bottom:1px solid var(--bdr);font:400 10px var(--mono)}
.rr:last-child{border-bottom:none}
</style>
</head>
<body>
<div id="root"></div>
<script type="text/babel">
const {useState,useEffect,useRef,useMemo}=React;

/* ═══ MINI SVG CHART COMPONENTS ═══ */
const Sparkline=({data,dataKey,w=200,h=60,color='#30d158',fill=true,showAxis=false})=>{
  const vals=data.map(d=>d[dataKey]);
  const mn=Math.min(...vals),mx=Math.max(...vals);
  const range=mx-mn||1;
  const pad=4;
  const pts=vals.map((v,i)=>{
    const x=pad+(i/(vals.length-1))*(w-pad*2);
    const y=pad+((mx-v)/range)*(h-pad*2);
    return `${x},${y}`;
  });
  const line=pts.join(' ');
  const areaPath=`M${pts[0]} L${line.replace(/,/g,' ').split(' L').join(' L')} L${pad+(vals.length-1)/(vals.length-1)*(w-pad*2)},${h} L${pad},${h} Z`;
  const polyline=pts.join(' ');
  const gradId='g'+Math.random().toString(36).slice(2,8);
  return(
    <svg width="100%" height={h} viewBox={`0 0 ${w} ${h}`} preserveAspectRatio="none">
      {fill&&<defs><linearGradient id={gradId} x1="0" y1="0" x2="0" y2="1"><stop offset="0%" stopColor={color} stopOpacity=".25"/><stop offset="100%" stopColor={color} stopOpacity="0"/></linearGradient></defs>}
      {fill&&<polygon points={`${pts[0]} ${polyline} ${pad+(vals.length-1)/(vals.length-1)*(w-pad*2)},${h-pad} ${pad},${h-pad}`} fill={`url(#${gradId})`}/>}
      <polyline points={polyline} fill="none" stroke={color} strokeWidth="1.5" strokeLinejoin="round" strokeLinecap="round"/>
    </svg>
  );
};

const AreaChartSVG=({data,keys,colors,w=400,h=180,labels})=>{
  const allVals=keys.flatMap(k=>data.map(d=>d[k]));
  const mx=Math.max(...allVals),mn=0;
  const range=mx-mn||1;
  const pad={t:10,r:10,b:24,l:32};
  const cw=w-pad.l-pad.r,ch=h-pad.t-pad.b;
  const toX=i=>pad.l+(i/(data.length-1))*cw;
  const toY=v=>pad.t+((mx-v)/range)*ch;
  return(
    <svg width="100%" viewBox={`0 0 ${w} ${h}`} style={{display:'block'}}>
      {/* grid */}
      {[0,.25,.5,.75,1].map((f,i)=>{
        const y=pad.t+f*ch;
        const v=Math.round(mx-(f*range));
        return <g key={i}><line x1={pad.l} y1={y} x2={w-pad.r} y2={y} stroke="#1a1a1a" strokeWidth=".5"/><text x={pad.l-4} y={y+3} fill="#666" fontSize="8" fontFamily="JetBrains Mono" textAnchor="end">{v}</text></g>;
      })}
      {/* x labels */}
      {data.map((d,i)=><text key={i} x={toX(i)} y={h-4} fill="#666" fontSize="8" fontFamily="JetBrains Mono" textAnchor="middle">{d.d||d.month||''}</text>)}
      {/* areas + lines */}
      {keys.map((k,ki)=>{
        const pts=data.map((d,i)=>`${toX(i)},${toY(d[k])}`).join(' ');
        const gid='ac'+ki+Math.random().toString(36).slice(2,6);
        return <g key={k}>
          <defs><linearGradient id={gid} x1="0" y1="0" x2="0" y2="1"><stop offset="0%" stopColor={colors[ki]} stopOpacity=".15"/><stop offset="100%" stopColor={colors[ki]} stopOpacity="0"/></linearGradient></defs>
          <polygon points={`${toX(0)},${toY(0)} ${pts} ${toX(data.length-1)},${toY(0)}`} fill={`url(#${gid})`}/>
          <polyline points={pts} fill="none" stroke={colors[ki]} strokeWidth="1.5" strokeLinejoin="round"/>
        </g>;
      })}
    </svg>
  );
};

/* ═══ DATA ═══ */
const TICKERS=[
  {s:'SPGI',p:'512.38',c:'+1.24%',u:true},{s:'ES1',p:'5,842',c:'+0.32%',u:true},{s:'NQ1',p:'20,815',c:'+0.48%',u:true},
  {s:'DXY',p:'104.12',c:'-0.18%',u:false},{s:'GC1',p:'2,938',c:'+0.85%',u:true},{s:'CL1',p:'78.62',c:'-1.23%',u:false},
  {s:'US10Y',p:'4.284',c:'+2bp',u:false},{s:'VIX',p:'16.82',c:'-3.41%',u:false},{s:'BTC',p:'97,245',c:'+2.14%',u:true},
  {s:'EUR',p:'1.0842',c:'+0.11%',u:true},{s:'GBP',p:'1.2668',c:'-0.07%',u:false},{s:'JPY',p:'152.34',c:'+0.23%',u:true},
  {s:'NG1',p:'3.42',c:'+4.12%',u:true},{s:'HG1',p:'4.28',c:'-0.56%',u:false},{s:'W1',p:'582.50',c:'+1.87%',u:true},
];

const RISKS=[
  {id:'geo',l:'Geopolitical Risk',v:78,c:'var(--red)',d:'+4.2',dir:'up',st:'ELEVATED'},
  {id:'clim',l:'Climate Security',v:72,c:'var(--amber)',d:'+6.8',dir:'up',st:'HIGH'},
  {id:'cyb',l:'Cyber Threat',v:65,c:'var(--pur)',d:'+2.1',dir:'up',st:'HIGH'},
  {id:'econ',l:'Economic Stability',v:41,c:'var(--blu)',d:'-3.5',dir:'dn',st:'MODERATE'},
  {id:'con',l:'Armed Conflict',v:83,c:'var(--red)',d:'+7.9',dir:'up',st:'CRITICAL'},
  {id:'sup',l:'Supply Chain',v:58,c:'var(--cyan)',d:'+1.2',dir:'up',st:'ELEVATED'},
  {id:'ene',l:'Energy Security',v:67,c:'var(--yel)',d:'+5.4',dir:'up',st:'HIGH'},
  {id:'pan',l:'Health/Pandemic',v:29,c:'var(--grn)',d:'-8.1',dir:'dn',st:'LOW'},
];

const INCIDENTS=[
  {id:1,t:'Russian Naval Buildup in Black Sea — NATO Alert Level Raised',sv:'critical',cat:'CONFLICT',reg:'E. Europe',tm:'12m',lat:44,lon:34,imp:'NATO Article 5 consultation triggered',ty:'Military'},
  {id:2,t:'Cat-5 Cyclone Bearing Down on Bay of Bengal — 2.4M at Risk',sv:'critical',cat:'CLIMATE',reg:'S. Asia',tm:'28m',lat:16,lon:87,imp:'$8.2B estimated damage',ty:'Weather'},
  {id:3,t:'Major Ransomware Attack on European Energy Grid Operator',sv:'critical',cat:'CYBER',reg:'W. Europe',tm:'1h',lat:50,lon:8,imp:'3 nations, grid at 60%',ty:'Cyber'},
  {id:4,t:'Taiwan Strait — PLA Air Incursions Reach 52 Sorties in 24h',sv:'critical',cat:'CONFLICT',reg:'E. Asia',tm:'2h',lat:24,lon:121,imp:'Semiconductor supply risk',ty:'Military'},
  {id:5,t:'Strait of Hormuz — Tanker Seized by IRGC Navy',sv:'critical',cat:'ENERGY',reg:'M. East',tm:'3h',lat:26.5,lon:56,imp:'Oil +4.2%, $2.1B/day trade risk',ty:'Maritime'},
  {id:6,t:'Sahel Region — Wagner Group Expands Into 3 New Countries',sv:'high',cat:'CONFLICT',reg:'W. Africa',tm:'4h',lat:14,lon:-2,imp:'Democratic transitions destabilized',ty:'Military'},
  {id:7,t:'Mediterranean Wildfire Season — 340K Ha Across 5 Nations',sv:'high',cat:'CLIMATE',reg:'S. Europe',tm:'5h',lat:38,lon:23,imp:'$3.1B economic impact',ty:'Wildfire'},
  {id:8,t:'North Korea ICBM Test — Trajectory Over Sea of Japan',sv:'critical',cat:'CONFLICT',reg:'E. Asia',tm:'6h',lat:39,lon:127,imp:'UN emergency session called',ty:'WMD'},
  {id:9,t:'Amazon Deforestation Surge — 40% Above 5-Year Average',sv:'high',cat:'CLIMATE',reg:'S. America',tm:'6h',lat:-5,lon:-60,imp:'Carbon sink -12%',ty:'Deforestation'},
  {id:10,t:'US-China Semiconductor Export Controls Expanded',sv:'high',cat:'ECONOMIC',reg:'Global',tm:'8h',lat:39,lon:-77,imp:'$45B bilateral trade affected',ty:'Trade'},
  {id:11,t:'Arctic Permafrost Methane Release Exceeds Models by 40%',sv:'high',cat:'CLIMATE',reg:'Arctic',tm:'10h',lat:72,lon:125,imp:'Tipping point risk elevated',ty:'Emissions'},
  {id:12,t:'Sudan Civil Conflict — 2M New Displacements',sv:'high',cat:'CONFLICT',reg:'E. Africa',tm:'12h',lat:15,lon:32,imp:'Humanitarian crisis, spillover',ty:'Civil War'},
  {id:13,t:'EU Carbon Border Tax Phase 2 — 8 Sectors Added',sv:'medium',cat:'REGULATORY',reg:'Europe',tm:'1d',lat:50,lon:4,imp:'€45B cross-border trade',ty:'Regulatory'},
  {id:14,t:'India-Pakistan Indus Treaty Renegotiation Stalls',sv:'high',cat:'CONFLICT',reg:'S. Asia',tm:'1d',lat:30,lon:72,imp:'300M affected, agriculture risk',ty:'Water'},
  {id:15,t:'Pacific Islands Climate Emergency — Sea Level +18cm',sv:'high',cat:'CLIMATE',reg:'Oceania',tm:'1d',lat:-8,lon:160,imp:'$420M relocation costs',ty:'Sea Level'},
  {id:16,t:'Venezuelan Migration Crisis — 800K Cross to Colombia',sv:'medium',cat:'SOCIAL',reg:'S. America',tm:'1d',lat:7,lon:-72,imp:'$1.2B aid needed',ty:'Migration'},
  {id:17,t:'Chinese Spy Balloon Incursions — 3 Nations Report',sv:'medium',cat:'INTEL',reg:'Global',tm:'2d',lat:45,lon:-100,imp:'Sovereignty concern',ty:'Espionage'},
  {id:18,t:'Gulf of Guinea Piracy — 12 Incidents in 30 Days',sv:'medium',cat:'MARITIME',reg:'W. Africa',tm:'2d',lat:4,lon:3,imp:'$800M insurance spike',ty:'Maritime'},
];

const CC={CONFLICT:'#ff3b30',CLIMATE:'#ff9500',CYBER:'#bf5af2',ECONOMIC:'#0a84ff',ENERGY:'#ffd60a',REGULATORY:'#64d2ff',SOCIAL:'#30d158',INTEL:'#ff375f',MARITIME:'#5ac8fa'};
const SC={critical:'#ff3b30',high:'#ff9500',medium:'#ffd60a',low:'#30d158'};

const MKTS={
  'US INDICES':[{s:'SPX',n:'S&P 500',p:'5,842.50',c:'+0.32%',u:1},{s:'NDX',n:'Nasdaq 100',p:'20,815',c:'+0.48%',u:1},{s:'DJI',n:'Dow Jones',p:'43,248',c:'+0.15%',u:1},{s:'RUT',n:'Russell 2K',p:'2,058',c:'-0.41%',u:0}],
  'GLOBAL':[{s:'UKX',n:'FTSE 100',p:'8,412',c:'+0.22%',u:1},{s:'DAX',n:'DAX 40',p:'19,845',c:'+0.34%',u:1},{s:'NKY',n:'Nikkei',p:'38,920',c:'-0.58%',u:0},{s:'SHCOMP',n:'Shanghai',p:'3,084',c:'-1.12%',u:0},{s:'SENSEX',n:'Sensex',p:'72,410',c:'+0.67%',u:1}],
  'COMMODITIES':[{s:'GC1',n:'Gold',p:'2,938',c:'+0.85%',u:1},{s:'CL1',n:'WTI Crude',p:'78.62',c:'-1.23%',u:0},{s:'NG1',n:'Nat Gas',p:'3.42',c:'+4.12%',u:1},{s:'HG1',n:'Copper',p:'4.28',c:'-0.56%',u:0},{s:'W1',n:'Wheat',p:'582.50',c:'+1.87%',u:1}],
  'FX & RATES':[{s:'DXY',n:'Dollar Idx',p:'104.12',c:'-0.18%',u:0},{s:'EUR',n:'EUR/USD',p:'1.0842',c:'+0.11%',u:1},{s:'US10Y',n:'10Y Yield',p:'4.284%',c:'+2bp',u:0},{s:'US2Y',n:'2Y Yield',p:'4.612%',c:'+1bp',u:0}],
  'CRYPTO':[{s:'BTC',n:'Bitcoin',p:'97,245',c:'+2.14%',u:1},{s:'ETH',n:'Ethereum',p:'3,284',c:'+1.56%',u:1}],
  'DEFENSE & INTEL':[{s:'SPGI',n:'S&P Global',p:'512.38',c:'+1.24%',u:1},{s:'LMT',n:'Lockheed',p:'458.92',c:'+2.34%',u:1},{s:'RTX',n:'RTX Corp',p:'98.45',c:'+1.82%',u:1},{s:'NOC',n:'Northrop',p:'512.10',c:'+1.45%',u:1},{s:'PLTR',n:'Palantir',p:'78.22',c:'+3.21%',u:1}],
};

const TREND={
  '1M':[{d:'W1',geo:72,clim:65,cyb:61,con:74},{d:'W2',geo:74,clim:67,cyb:63,con:76},{d:'W3',geo:75,clim:69,cyb:62,con:79},{d:'W4',geo:78,clim:72,cyb:65,con:83}],
  '6M':[{d:'Sep',geo:68,clim:58,cyb:55,con:65},{d:'Oct',geo:70,clim:62,cyb:58,con:70},{d:'Nov',geo:72,clim:64,cyb:60,con:73},{d:'Dec',geo:74,clim:66,cyb:62,con:76},{d:'Jan',geo:76,clim:70,cyb:64,con:80},{d:'Feb',geo:78,clim:72,cyb:65,con:83}],
  '1Y':[{d:'Mar',geo:60,clim:48,cyb:50,con:55},{d:'May',geo:62,clim:52,cyb:52,con:58},{d:'Jul',geo:65,clim:55,cyb:54,con:62},{d:'Sep',geo:68,clim:58,cyb:55,con:65},{d:'Nov',geo:72,clim:64,cyb:60,con:73},{d:'Feb',geo:78,clim:72,cyb:65,con:83}],
};

const SPGI=[{t:'09:30',p:508.2},{t:'10:00',p:509.5},{t:'10:30',p:510.1},{t:'11:00',p:509.8},{t:'11:30',p:511.2},{t:'12:00',p:510.6},{t:'12:30',p:511.8},{t:'13:00',p:512.5},{t:'13:30',p:511.9},{t:'14:00',p:512.8},{t:'14:30',p:513.1},{t:'15:00',p:512.4},{t:'15:30',p:512.0},{t:'16:00',p:512.38}];

const REGS=[
  {r:'Middle East',v:89,n:24,d:'+12%'},{r:'Eastern Europe',v:84,n:18,d:'+8%'},{r:'East Asia',v:76,n:15,d:'+5%'},
  {r:'Sub-Saharan Africa',v:74,n:22,d:'+11%'},{r:'South Asia',v:68,n:14,d:'+4%'},{r:'Latin America',v:52,n:9,d:'+2%'},
  {r:'Western Europe',v:38,n:6,d:'+7%'},{r:'North America',v:32,n:4,d:'+1%'},
];

/* ═══ APP ═══ */
function App(){
  const[time,setTime]=useState(new Date());
  const[mf,setMf]=useState('ALL');
  const[tt,setTt]=useState(null);
  const[tp,setTp]=useState('6M');

  useEffect(()=>{const i=setInterval(()=>setTime(new Date()),1000);return()=>clearInterval(i)},[]);

  const proj=(lat,lon)=>[(lon+180)*(960/360),(90-lat)*(480/180)];
  const fi=mf==='ALL'?INCIDENTS:INCIDENTS.filter(i=>i.cat===mf);

  return(
    <div>
      {/* Ticker */}
      <div className="ticker"><div className="tscroll">
        {[...TICKERS,...TICKERS].map((t,i)=><React.Fragment key={i}>
          <span className="tk"><span className="s">{t.s}</span><span className="p">{t.p}</span><span className={t.u?'up':'dn'}>{t.c}</span></span>
          {i%5===4&&<span className="tsep">│</span>}
        </React.Fragment>)}
      </div></div>

      {/* Header */}
      <div className="hdr">
        <div className="hdr-l"><div className="logo">SENTINEL<span>GLOBAL RISK & SECURITY TERMINAL</span></div></div>
        <div className="hdr-r">
          <span className="threat">⚠ THREAT LEVEL: ELEVATED</span>
          <span className="live"><span className="ldot"></span>LIVE</span>
          <span>{time.toLocaleString('en-US',{month:'short',day:'numeric',year:'numeric',hour:'2-digit',minute:'2-digit',second:'2-digit',hour12:false})}</span>
          <span style={{color:'var(--t3)'}}>UTC {time.toISOString().slice(11,19)}</span>
        </div>
      </div>

      <div className="shell">
        {/* LEFT SIDEBAR */}
        <div className="sidebar">
          <div className="ph"><div className="pt">◆ Risk Indices</div><span className="pb" style={{background:'var(--amberbg)',color:'var(--amber)'}}>LIVE</span></div>
          <div className="pbd">
            {RISKS.map(r=><div key={r.id} className="rg">
              <div className="rg-t"><span className="rg-l">{r.l}</span><span className="rg-v" style={{color:r.c}}>{r.v}</span></div>
              <div className="rg-b"><div className="rg-f" style={{width:r.v+'%',background:r.c}}/></div>
              <div className="rg-m">
                <span style={{color:r.dir==='up'?'var(--red)':'var(--grn)'}}>{r.d} {r.dir==='up'?'▲':'▼'}</span>
                <span style={{color:r.v>=75?'var(--red)':r.v>=50?'var(--amber)':'var(--grn)',fontWeight:600}}>{r.st}</span>
              </div>
            </div>)}
          </div>
          <div className="ph"><div className="pt">◆ Regional Risk</div></div>
          <div className="pbd">
            {REGS.map((r,i)=><div key={i} className="rr">
              <span style={{color:'var(--t2)',flex:1}}>{r.r}</span>
              <span style={{color:r.v>=75?'var(--red)':r.v>=50?'var(--amber)':'var(--grn)',fontWeight:600,width:28,textAlign:'right'}}>{r.v}</span>
              <span style={{color:'var(--t3)',width:22,textAlign:'right',fontSize:9}}>{r.n}</span>
              <span style={{color:'var(--red)',width:35,textAlign:'right',fontSize:9}}>{r.d}</span>
            </div>)}
            <div style={{display:'flex',justifyContent:'space-between',font:'400 8px var(--mono)',color:'var(--t3)',marginTop:4,paddingTop:4,borderTop:'1px solid var(--bdr)'}}>
              <span>REGION</span><span>IDX</span><span>#</span><span>Δ QoQ</span>
            </div>
          </div>
        </div>

        {/* CENTER */}
        <div className="center">
          {/* MAP */}
          <div style={{flex:'1 1 55%',minHeight:0,borderBottom:'1px solid var(--bdr)'}}>
            <div className="mwrap">
              <svg viewBox="0 0 960 480" preserveAspectRatio="xMidYMid meet">
                {[...Array(9)].map((_,i)=><line key={'h'+i} x1="0" y1={i*60} x2="960" y2={i*60} stroke="#111" strokeWidth=".5"/>)}
                {[...Array(17)].map((_,i)=><line key={'v'+i} x1={i*60} y1="0" x2={i*60} y2="480" stroke="#111" strokeWidth=".5"/>)}
                {/* continents */}
                <path d="M130,55 L210,50 L245,75 L265,95 L255,135 L230,160 L200,175 L180,210 L160,205 L148,220 L130,210 L112,175 L100,145 L95,110 L105,75Z" fill="#0d1a0d" stroke="#1a3a1a" strokeWidth=".8"/>
                <path d="M148,220 L168,225 L178,245 L172,260 L160,255 L148,235Z" fill="#0d1a0d" stroke="#1a3a1a" strokeWidth=".8"/>
                <path d="M185,260 L212,255 L232,270 L242,300 L248,335 L238,370 L220,395 L205,400 L195,380 L184,350 L174,320 L168,288 L175,268Z" fill="#0d1a0d" stroke="#1a3a1a" strokeWidth=".8"/>
                <path d="M415,60 L445,50 L478,55 L498,68 L508,85 L502,108 L485,118 L462,125 L442,135 L422,130 L408,115 L402,92Z" fill="#0d1a0d" stroke="#1a3a1a" strokeWidth=".8"/>
                <path d="M425,150 L465,145 L498,155 L518,180 L528,218 L522,258 L510,298 L495,322 L475,338 L455,332 L435,312 L425,280 L418,245 L412,205 L408,175Z" fill="#0d1a0d" stroke="#1a3a1a" strokeWidth=".8"/>
                <path d="M505,45 L568,35 L638,40 L700,52 L740,68 L760,90 L770,125 L758,155 L738,165 L705,160 L675,170 L645,165 L612,155 L582,145 L552,128 L522,112 L508,92 L505,65Z" fill="#0d1a0d" stroke="#1a3a1a" strokeWidth=".8"/>
                <path d="M595,175 L638,170 L678,180 L698,198 L688,218 L655,222 L625,212 L605,200Z" fill="#0d1a0d" stroke="#1a3a1a" strokeWidth=".8"/>
                <path d="M678,232 L710,228 L740,232 L758,242 L748,252 L718,258 L688,252 L672,245Z" fill="#0d1a0d" stroke="#1a3a1a" strokeWidth=".8"/>
                <path d="M718,298 L768,288 L810,298 L830,318 L825,350 L805,365 L772,370 L742,358 L728,338 L718,318Z" fill="#0d1a0d" stroke="#1a3a1a" strokeWidth=".8"/>
                <path d="M768,82 L778,78 L786,88 L780,105 L770,100Z" fill="#0d1a0d" stroke="#1a3a1a" strokeWidth=".8"/>
                {/* hotzone overlays */}
                <ellipse cx="490" cy="165" rx="80" ry="40" fill="rgba(255,59,48,.03)" stroke="rgba(255,59,48,.07)" strokeWidth=".5" strokeDasharray="3"/>
                <ellipse cx="630" cy="120" rx="60" ry="35" fill="rgba(255,59,48,.03)" stroke="rgba(255,59,48,.07)" strokeWidth=".5" strokeDasharray="3"/>
                {/* markers */}
                {fi.map(inc=>{const[x,y]=proj(inc.lat,inc.lon);const col=SC[inc.sv];
                  return <g key={inc.id} style={{cursor:'pointer'}} onMouseEnter={e=>setTt({x:e.clientX+14,y:e.clientY-10,i:inc})} onMouseLeave={()=>setTt(null)}>
                    <circle className="mpulse" cx={x} cy={y} r="5" fill="none" stroke={col} strokeWidth="1" opacity=".5"/>
                    <circle cx={x} cy={y} r="4" fill={col} opacity=".85" stroke="#000" strokeWidth="1.5"/>
                    <circle cx={x} cy={y} r="1.5" fill="#fff" opacity=".9"/>
                  </g>;
                })}
              </svg>
              <div className="mfilt">
                {['ALL','CONFLICT','CLIMATE','CYBER','ENERGY','ECONOMIC'].map(f=>(
                  <button key={f} className={`mfb ${mf===f?'a':''}`} onClick={()=>setMf(f)}>{f}</button>
                ))}
              </div>
              <div className="mstat">
                <div className="ms"><span className="msv" style={{color:'var(--red)'}}>{INCIDENTS.filter(i=>i.sv==='critical').length}</span><span className="msl">Critical</span></div>
                <div className="ms"><span className="msv" style={{color:'var(--amber)'}}>{INCIDENTS.filter(i=>i.sv==='high').length}</span><span className="msl">High</span></div>
                <div className="ms"><span className="msv" style={{color:'var(--t1)'}}>{INCIDENTS.length}</span><span className="msl">Total</span></div>
              </div>
              <div className="mleg">
                {Object.entries(CC).slice(0,6).map(([k,v])=><span key={k} className="ml"><span className="mld" style={{background:v}}></span>{k}</span>)}
              </div>
            </div>
          </div>

          {/* BOTTOM: Intel + Trends */}
          <div style={{flex:'1 1 45%',display:'grid',gridTemplateColumns:'1fr 1fr',overflow:'hidden'}}>
            {/* Intel Feed */}
            <div style={{overflow:'auto',borderRight:'1px solid var(--bdr)'}}>
              <div className="ph"><div className="pt">◆ Intelligence Feed</div><span className="pb" style={{background:'var(--redbg)',color:'var(--red)'}}>{INCIDENTS.length} ACTIVE</span></div>
              <div className="pbd">
                {INCIDENTS.map(inc=><div key={inc.id} className="fi">
                  <div className="fit">
                    <div className="fis" style={{background:SC[inc.sv]}}/>
                    <span className="fitg" style={{background:CC[inc.cat]+'20',color:CC[inc.cat],border:'1px solid '+CC[inc.cat]+'40'}}>{inc.cat}</span>
                    <span style={{font:'400 9px var(--mono)',color:'var(--t3)'}}>{inc.reg}</span>
                    <span className="fitm">{inc.tm}</span>
                  </div>
                  <div className="fitt">{inc.t}</div>
                  <div className="fisu">{inc.imp}</div>
                </div>)}
              </div>
            </div>

            {/* Trend Chart */}
            <div style={{overflow:'auto'}}>
              <div className="ph"><div className="pt">◆ Risk Trend Analysis</div></div>
              <div className="pbd">
                <div className="ctabs">
                  {['1M','6M','1Y'].map(p=><button key={p} className={`ct ${tp===p?'a':''}`} onClick={()=>setTp(p)}>{p}</button>)}
                </div>
                <AreaChartSVG data={TREND[tp]} keys={['con','geo','clim','cyb']} colors={['#ff375f','#ff3b30','#ff9500','#bf5af2']}/>
                <div style={{display:'flex',gap:12,marginTop:6,font:'400 9px var(--mono)'}}>
                  {[['Conflict','#ff375f'],['Geopolitical','#ff3b30'],['Climate','#ff9500'],['Cyber','#bf5af2']].map(([n,c])=>(
                    <span key={n} style={{display:'flex',alignItems:'center',gap:3}}><span style={{width:8,height:2,background:c,display:'inline-block'}}/><span style={{color:'var(--t2)'}}>{n}</span></span>
                  ))}
                </div>
              </div>
            </div>
          </div>
        </div>

        {/* RIGHT PANEL */}
        <div className="rpanel">
          {/* SPGI */}
          <div className="ph"><div className="pt">◆ SPGI — S&P Global</div><span className="pb" style={{background:'var(--grnbg)',color:'var(--grn)'}}>+1.24%</span></div>
          <div className="pbd">
            <div style={{display:'flex',alignItems:'baseline',gap:8}}>
              <span style={{font:'700 22px var(--mono)',color:'var(--grn)'}}>$512.38</span>
              <span style={{font:'500 11px var(--mono)',color:'var(--grn)'}}>+$6.28</span>
            </div>
            <div style={{font:'400 9px var(--mono)',color:'var(--t3)',marginTop:2}}>NYSE · Intraday · Vol: 1.2M</div>
            <div style={{marginTop:8}}><Sparkline data={SPGI} dataKey="p" w={260} h={55} color="#30d158"/></div>
            <div style={{display:'grid',gridTemplateColumns:'1fr 1fr 1fr',gap:8,marginTop:8,font:'400 9px var(--mono)'}}>
              <div><span style={{color:'var(--t3)'}}>Open</span><br/><span style={{color:'var(--t1)'}}>508.20</span></div>
              <div><span style={{color:'var(--t3)'}}>High</span><br/><span style={{color:'var(--t1)'}}>513.10</span></div>
              <div><span style={{color:'var(--t3)'}}>Low</span><br/><span style={{color:'var(--t1)'}}>508.05</span></div>
              <div><span style={{color:'var(--t3)'}}>Mkt Cap</span><br/><span style={{color:'var(--t1)'}}>$161.2B</span></div>
              <div><span style={{color:'var(--t3)'}}>P/E</span><br/><span style={{color:'var(--t1)'}}>48.32</span></div>
              <div><span style={{color:'var(--t3)'}}>52w H/L</span><br/><span style={{color:'var(--t1)'}}>520/380</span></div>
            </div>
          </div>

          {/* Markets */}
          {Object.entries(MKTS).map(([sec,items])=><React.Fragment key={sec}>
            <div className="msec">{sec}</div>
            <div style={{padding:'4px 12px'}}>
              {items.map((m,i)=><div key={i} className="mr">
                <span className="mrs">{m.s}</span>
                <span style={{color:'var(--t3)',flex:1,fontSize:10}}>{m.n}</span>
                <span className="mrp">{m.p}</span>
                <span className="mrc" style={{color:m.u?'var(--grn)':'var(--red)'}}>{m.c}</span>
              </div>)}
            </div>
          </React.Fragment>)}
        </div>
      </div>

      {/* Tooltip */}
      {tt&&<div className="tt" style={{left:tt.x,top:tt.y}}>
        <h5 style={{color:SC[tt.i.sv]}}>{tt.i.cat} — {tt.i.sv.toUpperCase()}</h5>
        <p style={{color:'var(--t1)',fontWeight:500}}>{tt.i.t}</p>
        <p style={{marginTop:3}}>{tt.i.reg} · {tt.i.tm} ago</p>
        <p style={{marginTop:2,color:'var(--amber)'}}>{tt.i.imp}</p>
      </div>}
    </div>
  );
}

ReactDOM.createRoot(document.getElementById('root')).render(<App/>);
</script>
</body>
</html>
